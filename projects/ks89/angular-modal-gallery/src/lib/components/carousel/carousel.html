<main id="carousel-container"
      [attr.aria-label]="accessibilityConfig.carouselContainerAriaLabel"
      [title]="accessibilityConfig.carouselContainerTitle">

  <figure id="current-figure">

    <a class="nav-left" *ngIf="isShowArrows"
       [attr.aria-label]="accessibilityConfig.carouselNextImageAriaLabel"
       [tabindex]="isLastImage && !slideConfig?.infinite ? -1 : 0" role="button"
       (click)="onNavigationEvent('left', $event)" (keyup)="onNavigationEvent('left', $event)">
      <div class="inside {{isFirstImage && !slideConfig?.infinite ? 'empty-arrow-image' : 'left-arrow-image'}}"
           aria-hidden="true"
           [title]="accessibilityConfig.carouselNextImageTitle"></div>
    </a>

    <ng-content></ng-content>

    <img id="current-image"
         [style.object-fit]="objectFit ? objectFit : null"
         [style.max-width]="maxWidth"
         [style.height]="maxHeight ? maxHeight : null"
         [src]="currentImage.modal.img"
         [attr.aria-label]="currentImage.modal.ariaLabel"
         [title]="currentImage.modal.title ? currentImage.modal.title : getTitleToDisplay()"
         alt="{{currentImage.modal.alt ? currentImage.modal.alt : getAltDescriptionByImage()}}"
         [tabindex]="0" role="img"
         (swipeleft)="swipe($event.type)"
         (swiperight)="swipe($event.type)"/>

    <figcaption *ngIf="getDescriptionToDisplay() !== ''"
                class="description"
                ksDescription [description]="configCurrentImage?.description"
                [innerHTML]="getDescriptionToDisplay()">
    </figcaption>

    <a class="nav-right" *ngIf="isShowArrows"
       [attr.aria-label]="accessibilityConfig.carouselNextImageAriaLabel"
       [tabindex]="isLastImage && !slideConfig?.infinite ? -1 : 0" role="button"
       (click)="onNavigationEvent('right', $event)" (keyup)="onNavigationEvent('right', $event)">
      <div class="inside {{isLastImage && !slideConfig?.infinite ? 'empty-arrow-image' : 'right-arrow-image'}}"
           aria-hidden="true"
           [title]="accessibilityConfig.carouselNextImageTitle"></div>
    </a>

    <div id="dots">
      <ks-dots [currentImage]="currentImage"
               [dotsConfig]="configDots"
               [accessibilityConfig]="accessibilityConfig"
               [images]="images"
               (clickDot)="onClickDot($event)"></ks-dots>
    </div>

  </figure>

</main>

<ks-carousel-previews [images]="images"
                      [currentImage]="currentImage"
                      [previewConfig]="previewConfig"
                      [accessibilityConfig]="accessibilityConfig"
                      [slideConfig]="{infinite: false}"
                      (clickPreview)="onClickPreview($event)"></ks-carousel-previews>
